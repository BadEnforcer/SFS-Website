import{R as l,u,j as e}from"./index-D2bzoXqo.js";import{d as c,e as d,f as p,l as g,F as h,a as r,Q as m,c as w}from"./showErrorFlashMsg-13G2eMxS.js";const x=c("app:signup:emailSignupHandler"),f="/onboarding/role-selection",j=async(n,o,t)=>{try{const a=await d(p.auth,n,o),i=await g.axiosWrapper("POST","https://server-backend-4ag2pvjcbq-em.a.run.app/api/v1/auth/set-default-claims",{uid:a.user.uid});if(i.status===200)return t(f);if(i.status!==200)return t("/login",{state:{error_message:"Oops. We hit a roadblock while trying to automatically log you in. Please login again"}})}catch(a){if(a instanceof h)switch(a.code){case"auth/email-already-in-use":return r("Email is already in use.");case"auth/weak-password":return r("Password is too weak.");case"auth/invalid-email":return r("Invalid email.");case"auth/operation-not-allowed":return r("Operation not allowed.");default:return r("An error occurred. Please try again.")}else x(`Error in emailSignupHandler ${a}`),alert(a)}},v=()=>{const[n,o]=l.useState(""),[t,a]=l.useState("");l.useState("");const i=u();return e.jsxs(e.Fragment,{children:[e.jsx(m,{position:"top-right",autoClose:5e3,hideProgressBar:!0,newestOnTop:!0,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"colored",limit:2,transition:w}),e.jsx("h1",{children:"Sign Up"}),e.jsxs("form",{children:[e.jsx("label",{children:"Email"}),e.jsx("input",{type:"email",onChange:s=>o(s.target.value)}),e.jsx("label",{children:"Password"}),e.jsx("input",{type:"password",onChange:s=>a(s.target.value)}),e.jsx("label",{children:"Confirm Password"}),e.jsx("input",{type:"password"}),e.jsx("button",{onClick:async s=>{s.preventDefault(),await j(n,t,i)},children:"Sign Up"})]}),e.jsx("button",{children:"Sign up with Google"})]})};export{v as default};
