import{R as l,u as p,j as a}from"./index-CvnsEHGv.js";import{d,c as m,s as f,a as t,b as g,f as h,e as w,F as v,B as y,Q as b,g as x}from"./createGoogleProvider-MjuBZSs0.js";const P=d("app:login:google-handler"),j=async o=>{const n=m(),s=h.auth;s.useDeviceLanguage();const e=await f(s,n);return e?await g(e,o):(P("no response from google."),t("No response from google. Please login again. if issue persists, contact support."))},E=h.auth,r=d("app:login:email-handler"),C=async(o,n,s)=>{try{r("signing in with email and password.");const e=await w(E,o,n);return await g(e,s)}catch(e){if(e instanceof v){if(e.code==="auth/user-not-found")return r("user not found."),t("No account found with this email.");if(e.code==="auth/invalid-email"||e.code==="auth/wrong-password"||e.code==="auth/invalid-credential")return r("invalid email."),t("Invalid email or password. Please try again.");if(e.code==="auth/user-disabled")return r("user disabled."),t("Account is disabled. Please contact support.");if(e.code==="auth/too-many-requests")return r("too many requests."),t("Too many requests. Please try again later.")}return r(`error occurred while signing in with email and password. ${e}`),t("An error occurred. Please try again.")}},k=()=>{const[o,n]=l.useState(""),[s,e]=l.useState(""),[u,F]=l.useState(void 0),c=p();return l.useEffect(()=>{u&&y.error(u,{theme:"colored"})},[]),a.jsxs("div",{children:[a.jsx(b,{position:"top-right",autoClose:5e3,hideProgressBar:!0,newestOnTop:!0,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"colored",limit:2,transition:x}),a.jsxs("form",{children:[a.jsx("label",{children:"Email"}),a.jsx("input",{type:"email",onChange:i=>{n(i.target.value)}}),a.jsx("label",{children:"Password"}),a.jsx("input",{type:"password",onChange:i=>e(i.target.value)}),a.jsx("button",{onClick:async i=>{i.preventDefault(),await C(o,s,c)},children:"Login"})]}),a.jsx("button",{onClick:async()=>await j(c),children:"Sign in with google"})]})};export{k as default};
